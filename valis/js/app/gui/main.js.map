{"version":3,"sources":["../../../../../www/js/app/gui/main.js"],"names":[],"mappings":";;AAAA,OAAO,CACL,iBADK,EAEL,iBAFK,EAGL,QAHK,CAAP,EAIA,UAAC,GAAD,EAAM,UAAN,EAAkB,CAAlB,EAAwB;AACtB,MAAM,OAAO,SAAP,IAAO,GAAM;;;;AAIjB,QAAM,SAAS,SAAS,MAAT,CAJE;AAKjB,QAAM,QAAQ,OAAO,KAAP,CAAa,mBAAb,CAAR,CALW;AAMjB,QAAI,KAAJ,EAAW;AACT,QAAE,GAAF,CAAM,MAAM,CAAN,CAAN,EACG,IADH,CACQ,UAAC,IAAD,EAAU;AACd,YAAM,QAAQ,IAAI,UAAJ,CAAe,IAAf,CAAR,CADQ;AAEd,cAAM,KAAN,EAFc;OAAV,CADR,CAKG,IALH,CAKQ,YAAM;AACV,YAAM,QAAQ,IAAI,UAAJ,EAAR,CADI;AAEV,cAAM,KAAN,EAFU;OAAN,CALR,CADS;KAAX,MAUO;AACL,YAAM,IAAI,UAAJ,EAAN,EADK;KAVP;GANW,CADS;;AAsBtB,MAAM,QAAQ,SAAR,KAAQ,CAAC,KAAD,EAAW;;AAEvB,UAAM,WAAN,GAFuB;AAGvB,QAAI,MAAJ,CAAW,KAAX,EAHuB;GAAX,CAtBQ;;AA4BtB,SAAO,EAAE,UAAF,EAAP,CA5BsB;CAAxB,CAJA","file":"main.js","sourcesContent":["define([\n  'app/gui/jsx/doc',\n  'app/patch_model',\n  'jquery'],\n(doc, PatchModel, $) => {\n  const init = () => {\n    // entry point for the app. Create a ocument and render the gui.\n\n    // do we have a JSON document specified in the url?\n    const params = location.search;\n    const match = params.match(/\\?.*patch=([^&]+)/);\n    if (match) {\n      $.get(match[1])\n        .done((json) => {\n          const model = new PatchModel(json);\n          start(model);\n        })\n        .fail(() => {\n          const model = new PatchModel();\n          start(model);\n        });\n    } else {\n      start(new PatchModel());\n    }\n  };\n\n  const start = (model) => {\n    // enable audio by default\n    model.enableAudio();\n    doc.render(model);\n  };\n\n  return { init };\n});\n"]}